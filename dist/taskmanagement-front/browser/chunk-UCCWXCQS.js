import{a as P}from"./chunk-S6LUAGNY.js";import{a as M}from"./chunk-OR4RGIIA.js";import{a as _}from"./chunk-FDL334H3.js";import"./chunk-XF56FPVL.js";import{c as k,d as S}from"./chunk-7R7WLGXG.js";import{I as p,J as g,L as e,M as t,N as m,U as f,V as n,W as s,X as b,ba as v,ca as h,la as x,ma as u,va as C,w as i,y as l,z as c}from"./chunk-Q353D5L7.js";import"./chunk-KAT7YFEL.js";var T=(d,r)=>r.id;function D(d,r){if(d&1&&(e(0,"tr")(1,"td"),n(2),t(),e(3,"td")(4,"span",15),n(5),t()(),e(6,"td"),n(7),t(),e(8,"td"),n(9),v(10,"date"),t()()),d&2){let a=r.$implicit;i(2),s(a.title),i(2),f(a.status.toLowerCase()),i(),b(" ",a.status," "),i(2),s(a.developerName||"Sin asignar"),i(2),s(h(10,6,a.startDate,"short"))}}var O=class d{constructor(r,a,o){this.taskService=r;this.developerService=a;this.notificationService=o}tasks=[];developers=[];recentTasks=[];ngOnInit(){this.loadTasks(),this.loadDevelopers()}loadTasks(){this.taskService.getAll().subscribe({next:r=>{let a=Array.isArray(r)?r:r.content;this.tasks=a,this.recentTasks=[...a].sort((o,E)=>new Date(E.startDate).getTime()-new Date(o.startDate).getTime()).slice(0,5)},error:r=>{this.notificationService.showError("Error al cargar tareas: "+r.message)}})}loadDevelopers(){this.developerService.getAll().subscribe({next:r=>{this.developers=r},error:r=>{this.notificationService.showError("Error al cargar desarrolladores: "+r.message)}})}get pendingTasks(){return this.tasks.filter(r=>r.status==="PENDING")}get inProgressTasks(){return this.tasks.filter(r=>r.status==="IN_PROGRESS")}get completedTasks(){return this.tasks.filter(r=>r.status==="COMPLETED")}get activeDevelopers(){return this.developers}static \u0275fac=function(a){return new(a||d)(l(P),l(_),l(M))};static \u0275cmp=c({type:d,selectors:[["app-home"]],decls:70,vars:4,consts:[[1,"dashboard-container"],[1,"dashboard-header"],[1,"dashboard-actions"],["routerLink","/tasks/new",1,"btn","btn-primary"],["routerLink","/developers/new",1,"btn","btn-secondary"],[1,"dashboard-grid"],[1,"dashboard-card"],[1,"card-content"],[1,"stat-number"],[1,"stat-label"],["routerLink","/tasks",1,"card-link"],["routerLink","/developers",1,"card-link"],[1,"dashboard-section"],[1,"table-container"],[1,"table"],[1,"status-badge"]],template:function(a,o){a&1&&(m(0,"app-navbar"),e(1,"div",0)(2,"div",1)(3,"h1"),n(4,"Dashboard"),t(),e(5,"div",2)(6,"a",3),n(7,"Nueva Tarea"),t(),e(8,"a",4),n(9,"Nuevo Desarrollador"),t()()(),e(10,"div",5)(11,"div",6)(12,"h2"),n(13,"Tareas Pendientes"),t(),e(14,"div",7)(15,"div",8),n(16),t(),e(17,"div",9),n(18,"tareas"),t()(),e(19,"a",10),n(20,"Ver todas \u2192"),t()(),e(21,"div",6)(22,"h2"),n(23,"Desarrolladores Activos"),t(),e(24,"div",7)(25,"div",8),n(26),t(),e(27,"div",9),n(28,"desarrolladores"),t()(),e(29,"a",11),n(30,"Ver todos \u2192"),t()(),e(31,"div",6)(32,"h2"),n(33,"Tareas en Progreso"),t(),e(34,"div",7)(35,"div",8),n(36),t(),e(37,"div",9),n(38,"tareas"),t()(),e(39,"a",10),n(40,"Ver todas \u2192"),t()(),e(41,"div",6)(42,"h2"),n(43,"Tareas Completadas"),t(),e(44,"div",7)(45,"div",8),n(46),t(),e(47,"div",9),n(48,"tareas"),t()(),e(49,"a",10),n(50,"Ver todas \u2192"),t()()(),e(51,"div",12)(52,"h2"),n(53,"\xDAltimas Tareas"),t(),e(54,"div",13)(55,"table",14)(56,"thead")(57,"tr")(58,"th"),n(59,"T\xEDtulo"),t(),e(60,"th"),n(61,"Estado"),t(),e(62,"th"),n(63,"Desarrollador"),t(),e(64,"th"),n(65,"Fecha"),t()()(),e(66,"tbody"),p(67,D,11,9,"tr",null,T),t()()()()(),m(69,"app-footer")),a&2&&(i(16),s(o.pendingTasks.length),i(10),s(o.activeDevelopers.length),i(10),s(o.inProgressTasks.length),i(10),s(o.completedTasks.length),i(21),g(o.recentTasks))},dependencies:[u,x,C,k,S],styles:[".dashboard-container[_ngcontent-%COMP%]{padding:2rem;max-width:1200px;margin:0 auto}.dashboard-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:2rem}.dashboard-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2rem;color:#1a1a1a;margin:0}.dashboard-actions[_ngcontent-%COMP%]{display:flex;gap:1rem}.btn[_ngcontent-%COMP%]{padding:.75rem 1.5rem;border-radius:.5rem;font-weight:500;cursor:pointer;transition:all .2s;text-decoration:none;display:inline-flex;align-items:center;gap:.5rem}.btn-primary[_ngcontent-%COMP%]{background:#4f46e5;color:#fff;border:none}.btn-primary[_ngcontent-%COMP%]:hover{background:#4338ca;transform:translateY(-1px)}.btn-secondary[_ngcontent-%COMP%]{background:#fff;color:#4f46e5;border:1px solid #4f46e5}.btn-secondary[_ngcontent-%COMP%]:hover{background:#f5f3ff;transform:translateY(-1px)}.dashboard-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:1.5rem;margin-bottom:2rem}.dashboard-card[_ngcontent-%COMP%]{background:#fff;border-radius:1rem;padding:1.5rem;box-shadow:0 1px 3px #0000001a;transition:transform .2s,box-shadow .2s}.dashboard-card[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 4px 6px #0000001a}.dashboard-card[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.25rem;color:#4b5563;margin:0 0 1rem}.card-content[_ngcontent-%COMP%]{margin-bottom:1rem}.stat-number[_ngcontent-%COMP%]{font-size:2.5rem;font-weight:700;color:#1a1a1a;line-height:1}.stat-label[_ngcontent-%COMP%]{color:#6b7280;font-size:.875rem;margin-top:.25rem}.card-link[_ngcontent-%COMP%]{color:#4f46e5;text-decoration:none;font-weight:500;display:inline-flex;align-items:center;gap:.25rem;transition:color .2s}.card-link[_ngcontent-%COMP%]:hover{color:#4338ca}.dashboard-section[_ngcontent-%COMP%]{background:#fff;border-radius:1rem;padding:1.5rem;box-shadow:0 1px 3px #0000001a}.dashboard-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.25rem;color:#4b5563;margin:0 0 1.5rem}.table-container[_ngcontent-%COMP%]{overflow-x:auto}.table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}.table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:1rem;text-align:left;border-bottom:1px solid #e5e7eb}.table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background:#f9fafb;font-weight:600;color:#374151}.status-badge[_ngcontent-%COMP%]{padding:.25rem .75rem;border-radius:9999px;font-size:.875rem;font-weight:500}.status-badge.pending[_ngcontent-%COMP%]{background:#fef3c7;color:#92400e}.status-badge.in_progress[_ngcontent-%COMP%]{background:#dbeafe;color:#1e40af}.status-badge.completed[_ngcontent-%COMP%]{background:#dcfce7;color:#166534}"]})};export{O as HomeComponent};
