import{a as E,b as _,c as k,d as L,f as I,g as z,h as N,l as T,n as G}from"./chunk-6WTLAR56.js";import{b as F,c as P,d as O}from"./chunk-7R7WLGXG.js";import{D as h,K as l,L as e,M as t,N as m,P as x,T as b,V as o,ka as w,ma as M,o as u,p as f,ua as S,va as y,w as a,y as v,z as C}from"./chunk-Q353D5L7.js";import"./chunk-KAT7YFEL.js";function B(i,r){i&1&&(e(0,"div",23),o(1," El usuario es obligatorio. "),t())}function D(i,r){i&1&&(e(0,"div",23),o(1," La contrase\xF1a es obligatoria. "),t())}function R(i,r){i&1&&(e(0,"span"),o(1,"Entrar"),t())}function A(i,r){i&1&&(e(0,"span"),o(1,"Entrando..."),t())}var V=class i{constructor(r,s,n){this.fb=r;this.authService=s;this.router=n;this.loginForm=this.fb.group({username:["",_.required],password:["",_.required]})}loginForm;loading=!1;onSubmit(){this.loginForm.valid&&(this.loading=!0,this.authService.login(this.loginForm.value).subscribe({next:r=>{localStorage.setItem("token",r.token),this.router.navigate(["/dashboard"])},error:r=>{console.error("Error en el login:",r),this.loading=!1}}))}static \u0275fac=function(s){return new(s||i)(v(T),v(F),v(S))};static \u0275cmp=C({type:i,selectors:[["app-login"]],decls:37,vars:10,consts:[[1,"form-container"],[1,"form-card"],[1,"form-logo"],["width","40","height","40","viewBox","0 0 32 32","fill","none","xmlns","http://www.w3.org/2000/svg"],["cx","16","cy","16","r","16","fill","#4f46e5"],["x","50%","y","55%","text-anchor","middle","fill","#fff","font-size","18","font-family","Arial, sans-serif","dy",".3em"],[1,"form-title"],["autocomplete","off",3,"ngSubmit","formGroup"],[1,"form-group"],["for","username"],[1,"input-icon-group"],[1,"input-icon"],["width","20","height","20","fill","none","stroke","#4f46e5","stroke-width","2","viewBox","0 0 24 24"],["d","M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"],["id","username","type","text","formControlName","username","placeholder","Usuario"],["class","error-message",4,"ngIf"],["for","password"],["d","M12 17a2 2 0 1 0 0-4 2 2 0 0 0 0 4zm6-6V9a6 6 0 1 0-12 0v2a2 2 0 0 0-2 2v5a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-5a2 2 0 0 0-2-2zm-8-2a4 4 0 1 1 8 0v2H8V9z"],["id","password","type","password","formControlName","password","placeholder","Contrase\xF1a"],["type","submit",1,"btn","btn-primary",3,"disabled"],[4,"ngIf"],[1,"form-link"],["routerLink","/auth/register"],[1,"error-message"]],template:function(s,n){if(s&1&&(m(0,"app-navbar"),e(1,"div",0)(2,"div",1)(3,"div",2),u(),e(4,"svg",3),m(5,"circle",4),e(6,"text",5),o(7,"TM"),t()()(),f(),e(8,"h2",6),o(9,"Iniciar Sesi\xF3n"),t(),e(10,"form",7),x("ngSubmit",function(){return n.onSubmit()}),e(11,"div",8)(12,"label",9),o(13,"Usuario"),t(),e(14,"div",10)(15,"span",11),u(),e(16,"svg",12),m(17,"path",13),t()(),f(),m(18,"input",14),t(),h(19,B,2,0,"div",15),t(),e(20,"div",8)(21,"label",16),o(22,"Contrase\xF1a"),t(),e(23,"div",10)(24,"span",11),u(),e(25,"svg",12),m(26,"path",17),t()(),f(),m(27,"input",18),t(),h(28,D,2,0,"div",15),t(),e(29,"button",19),h(30,R,2,0,"span",20)(31,A,2,0,"span",20),t()(),e(32,"div",21),o(33," \xBFNo tienes cuenta? "),e(34,"a",22),o(35,"Reg\xEDstrate"),t()()()(),m(36,"app-footer")),s&2){let d,p,c,g;a(10),l("formGroup",n.loginForm),a(8),b("invalid",((d=n.loginForm.get("username"))==null?null:d.invalid)&&((d=n.loginForm.get("username"))==null?null:d.touched)),a(),l("ngIf",((p=n.loginForm.get("username"))==null?null:p.invalid)&&((p=n.loginForm.get("username"))==null?null:p.touched)),a(8),b("invalid",((c=n.loginForm.get("password"))==null?null:c.invalid)&&((c=n.loginForm.get("password"))==null?null:c.touched)),a(),l("ngIf",((g=n.loginForm.get("password"))==null?null:g.invalid)&&((g=n.loginForm.get("password"))==null?null:g.touched)),a(),l("disabled",n.loginForm.invalid||n.loading),a(),l("ngIf",!n.loading),a(),l("ngIf",n.loading)}},dependencies:[M,w,y,P,O,G,I,E,k,L,z,N],styles:[".form-container[_ngcontent-%COMP%]{min-height:calc(100vh - 64px);display:flex;flex-direction:column;justify-content:center;align-items:center;background:#fff;padding:0 2rem;margin-top:0}.form-card[_ngcontent-%COMP%]{background:#fff;border-radius:1rem;box-shadow:0 4px 6px -1px #0000001a,0 2px 4px -1px #0000000f;padding:2.5rem 2rem;width:100%;max-width:400px;margin:2rem 0;display:flex;flex-direction:column;align-items:center}.form-logo[_ngcontent-%COMP%]{margin-bottom:1.5rem}.form-title[_ngcontent-%COMP%]{color:#1a1a1a;font-size:1.875rem;font-weight:700;margin-bottom:1.5rem;text-align:center}.form-group[_ngcontent-%COMP%]{margin-bottom:1.2rem;width:100%}.input-icon-group[_ngcontent-%COMP%]{width:100%;margin:0 auto;max-width:none}.input-icon[_ngcontent-%COMP%]{margin-right:.5rem;display:flex;align-items:center}input[type=text][_ngcontent-%COMP%], input[type=password][_ngcontent-%COMP%]{width:100%;font-size:1rem;padding:.75rem 1rem;border:1px solid #e5e7eb;border-radius:.5rem;background:#f9fafb;outline:none;transition:border .2s,box-shadow .2s}input[type=text][_ngcontent-%COMP%]:focus, input[type=password][_ngcontent-%COMP%]:focus{border-color:#4f46e5;box-shadow:0 0 0 2px #4f46e51a;background:#fff}input.invalid[_ngcontent-%COMP%]{border-color:#ef4444;box-shadow:0 0 0 2px #ef44441a}.error-message[_ngcontent-%COMP%]{color:#dc2626;font-size:.875rem;margin-top:.3rem}.btn[_ngcontent-%COMP%]{width:100%;padding:.75rem 1.5rem;border-radius:.5rem;font-weight:500;font-size:1rem;cursor:pointer;transition:all .2s;text-align:center;display:inline-block;margin-top:.5rem}.btn-primary[_ngcontent-%COMP%]{background:#4f46e5;color:#fff;border:none}.btn-primary[_ngcontent-%COMP%]:hover{background:#4338ca;transform:translateY(-1px)}.btn-primary[_ngcontent-%COMP%]:disabled{background:#9ca3af;cursor:not-allowed;transform:none}.form-link[_ngcontent-%COMP%]{margin-top:1.2rem;text-align:center}.form-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#4f46e5;text-decoration:none;font-weight:500;transition:color .2s}.form-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#4338ca;text-decoration:underline}.footer[_ngcontent-%COMP%]{position:fixed;left:0;bottom:0;width:100vw;z-index:100}@media (max-width: 640px){.form-card[_ngcontent-%COMP%]{padding:2rem 1rem}.form-title[_ngcontent-%COMP%]{font-size:1.5rem}.input-icon-group[_ngcontent-%COMP%]{max-width:100%}}"]})};export{V as LoginComponent};
